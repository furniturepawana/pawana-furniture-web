<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard - Pawana Furniture</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/admin.css">
</head>
<body>
  <div class="admin-wrapper">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>Pawana <span>Furniture</span></h1>
        <p>Admin Panel</p>
      </div>

      <nav class="sidebar-nav">
        <button class="nav-item active" data-tab="sets">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
          <span>Sets</span>
        </button>
        <button class="nav-item" data-tab="items">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          <span>Items</span>
        </button>
        <button class="nav-item" data-tab="rooms">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            <polyline points="9 22 9 12 15 12 15 22"></polyline>
          </svg>
          <span>Rooms</span>
        </button>
        <div class="nav-divider"></div>
        <button class="nav-item" data-tab="home-settings">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
          </svg>
          <span>Home</span>
        </button>
        <button class="nav-item" data-tab="about-settings">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M12 16v-4"></path>
            <path d="M12 8h.01"></path>
          </svg>
          <span>About</span>
        </button>
        <button class="nav-item" data-tab="services-settings">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
          </svg>
          <span>Services</span>
        </button>
        <button class="nav-item" data-tab="contact-settings">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
          </svg>
          <span>Contact</span>
        </button>
      </nav>

      <form class="logout-form" method="POST" action="/<%= adminRoute %>/logout">
        <button type="submit" class="logout-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
          <span>Logout</span>
        </button>
      </form>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Sets Tab -->
      <div class="tab-content active" id="sets-tab">
        <div class="content-header">
          <h2>Furniture Sets</h2>
        </div>

        <!-- Room Tabs -->
        <div class="room-tabs">
          <% rooms.forEach((room, index) => { %>
            <button class="room-tab <%= index === 0 ? 'active' : '' %>" data-room="<%= room.name %>">
              <%= room.name %>
            </button>
          <% }) %>
        </div>

        <!-- Style Subtabs with Add Button -->
        <div class="style-row">
          <div class="style-tabs">
            <button class="style-tab active" data-style="Royal">Royal</button>
            <button class="style-tab" data-style="Traditional">Traditional</button>
            <button class="style-tab" data-style="Modern">Modern</button>
          </div>
          <button class="add-btn" id="add-set-btn">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
            Add Set
          </button>
        </div>

        <!-- Grid -->
        <div class="cards-grid" id="sets-grid">
          <!-- Cards loaded via JS -->
          <div class="loading-text">Loading sets...</div>
        </div>
      </div>

      <!-- Items Tab -->
      <div class="tab-content" id="items-tab">
        <div class="content-header">
          <h2>Furniture Items</h2>
        </div>

        <!-- Room Tabs -->
        <div class="room-tabs" id="items-room-tabs">
          <% rooms.forEach((room, index) => { %>
            <button class="room-tab <%= index === 0 ? 'active' : '' %>" data-room="<%= room.name %>">
              <%= room.name %>
            </button>
          <% }) %>
        </div>

        <!-- Style Subtabs with Type Filter and Add Button -->
        <div class="style-row">
          <div class="style-tabs" id="items-style-tabs">
            <button class="style-tab active" data-style="Royal">Royal</button>
            <button class="style-tab" data-style="Traditional">Traditional</button>
            <button class="style-tab" data-style="Modern">Modern</button>
          </div>
          <div class="style-row-right">
            <div class="type-filter">
              <label for="type-filter-select">Type:</label>
              <select id="type-filter-select">
                <option value="">All Types</option>
              </select>
            </div>
            <button class="add-btn" id="add-item-btn">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
              </svg>
              Add Item
            </button>
          </div>
        </div>

        <!-- Grid -->
        <div class="cards-grid" id="items-grid">
          <div class="loading-text">Loading items...</div>
        </div>
      </div>

      <!-- Rooms Tab -->
      <div class="tab-content" id="rooms-tab">
        <div class="settings-sticky-header">
          <h2 id="rooms-header-title">Room Settings</h2>
          <div class="settings-sticky-actions">
            <span class="unsaved-indicator" id="rooms-unsaved-indicator"></span>
            <button type="button" class="btn-cancel-settings" id="rooms-cancel-btn">Cancel</button>
            <button type="button" class="btn-save-settings" id="rooms-save-btn">Save Changes</button>
          </div>
        </div>



        <!-- Room Tabs -->
        <div class="room-tabs" id="rooms-room-tabs">
          <% rooms.forEach((room, index) => { %>
            <button class="room-tab <%= index === 0 ? 'active' : '' %>" data-room="<%= room.name %>">
              <%= room.name %>
            </button>
          <% }) %>
          <button class="room-tab" data-room="Catalogue">Catalogue</button>
        </div>

        <!-- Room Details -->
        <div class="room-details" id="room-details">
          <div class="loading-text">Loading room details...</div>
        </div>

        <div class="room-details" id="catalogue-details" style="display: none;">
          <div class="settings-section">
            <form id="catalogue-settings-form">
              <div class="form-group">
                <label for="catalogue-page-title">Page Title</label>
                <input type="text" id="catalogue-page-title" name="pageTitle" placeholder="Our Collection">
              </div>
              <div class="form-group">
                <label for="catalogue-page-description">Page Description</label>
                <input type="text" id="catalogue-page-description" name="pageDescription" placeholder="Explore our exquisite range of handcrafted furniture">
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Home Settings Tab -->
      <div class="tab-content settings-tab-container" id="home-settings-tab">
        <div class="settings-sticky-header">
          <h2>Home Page Settings</h2>
          <div class="settings-sticky-actions">
            <span class="unsaved-indicator" id="home-unsaved-indicator"></span>
            <button type="button" class="btn-cancel-settings" id="home-cancel-btn">Cancel</button>
            <button type="button" class="btn-save-settings" id="home-save-btn">Save Changes</button>
          </div>
        </div>

        <div class="settings-form-container">
          <form id="home-settings-form" class="settings-form">
            <div class="settings-section">
              <h3>Hero Section</h3>

              <div class="form-group">
                <label for="hero-tagline">Tagline</label>
                <input type="text" id="hero-tagline" name="tagline" placeholder="Only The Finest Furniture">
              </div>

              <div class="form-group">
                <label for="hero-badges">Hero Badges (comma-separated)</label>
                <input type="text" id="hero-badges" name="badges" placeholder="Workshop In Rajpura, Since 1980">
              </div>

              <div class="form-group">
                <h4>Hero Images <span class="hint-text">(up to 3, select one as active)</span></h4>
                <div class="hero-images-grid" id="hero-images-container">
                  <% for (let i = 0; i < 3; i++) { %>
                    <div class="hero-image-slot" data-slot="<%= i %>">
                      <div class="slot-header">
                        <label class="radio-label">
                          <input type="radio" name="activeHeroImage" value="<%= i %>" <%= i === 0 ? 'checked' : '' %>>
                          <span>Active</span>
                        </label>
                        <span class="slot-number">Slot <%= i + 1 %></span>
                      </div>
                      <div class="hero-image-preview" id="hero-preview-<%= i %>">
                        <span class="no-image-text">No image</span>
                      </div>
                      <div class="slot-actions">
                        <button type="button" class="btn-upload-hero" data-slot="<%= i %>">Upload</button>
                        <button type="button" class="btn-delete-hero" data-slot="<%= i %>" disabled>Delete</button>
                      </div>
                    </div>
                  <% } %>
                </div>
              </div>

              <div class="form-group">
                <h4>Stats</h4>
                <div id="hero-stats-container"></div>
                <button type="button" class="btn-add-stat" id="add-stat-btn">+ Add Stat</button>
              </div>
            </div>

            <div class="settings-section">
              <h3>Featured Carousels</h3>

              <div class="form-group">
                <label for="signature-codes">Signature Items Codes (comma-separated)</label>
                <textarea id="signature-codes" name="signatureItems" rows="2" placeholder="LR-04, BR-28, DR-05..."></textarea>
              </div>

              <div class="form-group">
                <label for="featured-items-codes">Featured Items Codes (comma-separated)</label>
                <textarea id="featured-items-codes" name="featuredItems" rows="2" placeholder="LM-011, ST-011..."></textarea>
              </div>

              <div class="form-group">
                <label for="featured-sets-codes">Featured Sets Codes (comma-separated)</label>
                <textarea id="featured-sets-codes" name="featuredSets" rows="2" placeholder="OT-02, LR-01..."></textarea>
              </div>
            </div>

            <div class="settings-section">
              <h3>Delivery Section</h3>

              <div class="form-group">
                <label for="delivery-title">Section Title</label>
                <input type="text" id="delivery-title" name="deliveryTitle" placeholder="Crafted In India, Delivered Worldwide">
              </div>

              <div class="form-group">
                <label>Map Image</label>
                <div class="image-upload-row" id="delivery-map-row">
                  <div class="image-preview-small" id="delivery-map-preview"></div>
                  <button type="button" class="btn-upload" data-section="delivery-map">Upload Image</button>
                </div>
              </div>

              <div class="form-group">
                <label>Description Paragraphs</label>
                <div id="delivery-paragraphs-container"></div>
                <button type="button" class="btn-add-row" id="add-delivery-paragraph-btn">+ Add Paragraph</button>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>India Locations</label>
                  <div id="india-locations-container"></div>
                  <button type="button" class="btn-add-row" id="add-india-location-btn">+ Add Location</button>
                </div>
                <div class="form-group">
                  <label>International Locations</label>
                  <div id="international-locations-container"></div>
                  <button type="button" class="btn-add-row" id="add-international-location-btn">+ Add Location</button>
                </div>
              </div>
            </div>

            <div class="settings-section">
              <h3>Section Text Configuration</h3>
              <p class="section-hint">Customize titles and descriptions for home page sections</p>

              <div class="form-row">
                <div class="form-group">
                  <label for="signature-title">Signature Pieces - Title</label>
                  <input type="text" id="signature-title" placeholder="Signature Pieces">
                </div>
                <div class="form-group">
                  <label for="signature-subtitle">Signature Pieces - Subtitle</label>
                  <input type="text" id="signature-subtitle" placeholder="Masterpieces that define your living space">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="featured-items-title">Featured Items - Title</label>
                  <input type="text" id="featured-items-title" placeholder="Featured Items">
                </div>
                <div class="form-group">
                  <label for="featured-items-subtitle">Featured Items - Subtitle</label>
                  <input type="text" id="featured-items-subtitle" placeholder="Curated selection of our finest individual pieces">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="featured-sets-title">Featured Sets - Title</label>
                  <input type="text" id="featured-sets-title" placeholder="Featured Sets">
                </div>
                <div class="form-group">
                  <label for="featured-sets-subtitle">Featured Sets - Subtitle</label>
                  <input type="text" id="featured-sets-subtitle" placeholder="Complete furniture collections for every room">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="browse-rooms-title">Browse by Rooms - Title</label>
                  <input type="text" id="browse-rooms-title" placeholder="Browse by Rooms">
                </div>
                <div class="form-group">
                  <label for="browse-rooms-subtitle">Browse by Rooms - Subtitle</label>
                  <input type="text" id="browse-rooms-subtitle" placeholder="Explore our curated collections for every space in your home">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="custom-order-title">Custom Order - Title</label>
                  <input type="text" id="custom-order-title" placeholder="Ready to Start Your Custom Order?">
                </div>
                <div class="form-group">
                  <label for="custom-order-description">Custom Order - Description</label>
                  <input type="text" id="custom-order-description" placeholder="Tell us what you have in mind...">
                </div>
              </div>
            </div>

            <div class="settings-section">
              <h3>Footer Configuration</h3>

              <div class="form-group">
                <label for="footer-tagline1">Tagline 1</label>
                <input type="text" id="footer-tagline1" name="tagline1" placeholder="We Turn Your Imagination Into Reality">
              </div>

              <div class="form-group">
                <label for="footer-tagline2">Tagline 2</label>
                <textarea id="footer-tagline2" name="tagline2" rows="2" placeholder="Redefining luxury interiors..."></textarea>
              </div>

              <div class="form-group">
                <!-- Helper for copyright year -->
                <label for="footer-copyright">Copyright Text</label>
                <input type="text" id="footer-copyright" name="copyright" placeholder="&copy; 2026 Pawana Furniture. All rights reserved.">
                <span class="hint-text">Use <code>&amp;copy;</code> for © symbol.</span>
              </div>
            </div>
          </form>
        </div>
      </div>

      <!-- Contact Settings Tab -->
      <div class="tab-content settings-tab-container" id="contact-settings-tab">
        <div class="settings-sticky-header">
          <h2>Contact Page Settings</h2>
          <div class="settings-sticky-actions">
            <span class="unsaved-indicator" id="contact-unsaved-indicator"></span>
            <button type="button" class="btn-cancel-settings" id="contact-cancel-btn">Cancel</button>
            <button type="button" class="btn-save-settings" id="contact-save-btn">Save Changes</button>
          </div>
        </div>

        <div class="settings-form-container">
          <form id="contact-settings-form" class="settings-form">
            <div class="settings-section">
              <h3>Page Meta</h3>
              <div class="form-group">
                <label for="contact-page-title">Page Title</label>
                <input type="text" id="contact-page-title" name="pageTitle" placeholder="Contact Us">
              </div>
              <div class="form-group">
                <label for="contact-page-description">Page Description</label>
                <textarea id="contact-page-description" name="pageDescription" rows="2" placeholder="Page hero description..."></textarea>
              </div>
            </div>

            <div class="settings-section">
              <h3>Contact Information</h3>

              <div class="form-row">
                <div class="form-group">
                  <label for="contact-phone1">Phone Number 1</label>
                  <input type="text" id="contact-phone1" name="phone1" placeholder="+91 8360550271">
                </div>
                <div class="form-group">
                  <label for="contact-phone2">Phone Number 2</label>
                  <input type="text" id="contact-phone2" name="phone2" placeholder="+91 6239811718">
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="contact-whatsapp-enquiry">WhatsApp Enquiry Number</label>
                  <input type="text" id="contact-whatsapp-enquiry" name="whatsappEnquiry" placeholder="918360550271">
                </div>
                <div class="form-group">
                  <label for="contact-email">Display Email</label>
                  <input type="email" id="contact-email" name="email" placeholder="pawanafurniture07@gmail.com">
                </div>
              </div>

              <div class="form-group">
                <label for="contact-form-email">Form Submission Email</label>
                <input type="email" id="contact-form-email" name="formEmail" placeholder="pawanafurniture07@gmail.com">
              </div>
            </div>

            <div class="settings-section">
              <h3>Address</h3>

              <div class="form-group">
                <label for="address-line1">Line 1 (Business Name)</label>
                <input type="text" id="address-line1" name="addressLine1" placeholder="Pawana Furniture">
              </div>
              <div class="form-group">
                <label for="address-line2">Line 2 (Street)</label>
                <input type="text" id="address-line2" name="addressLine2" placeholder="Patiala Road, NH 7">
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="address-line3">Line 3 (City/State/PIN)</label>
                  <input type="text" id="address-line3" name="addressLine3" placeholder="Liberty Chowk, Punjab 140401">
                </div>
                <div class="form-group">
                  <label for="address-country">Country</label>
                  <input type="text" id="address-country" name="addressCountry" placeholder="India">
                </div>
              </div>
            </div>

            <div class="settings-section">
              <h3>Business Hours</h3>

              <div class="form-group">
                <label for="hours-weekday">Weekday Hours</label>
                <input type="text" id="hours-weekday" name="hoursWeekday" placeholder="Monday - Saturday: 8:00 AM - 7:30 PM">
              </div>
              <div class="form-group">
                <label for="hours-weekend">Weekend Hours</label>
                <input type="text" id="hours-weekend" name="hoursWeekend" placeholder="Sunday: 8:00 AM - 6:30 PM">
              </div>
            </div>

            <div class="settings-section">
              <h3>Social Media Links</h3>
              <div class="form-row">
                <div class="form-group">
                  <label for="contact-instagram">Instagram URL</label>
                  <input type="url" id="contact-instagram" name="instagram" placeholder="https://instagram.com/pawanafurniture">
                </div>
                <div class="form-group">
                  <label for="contact-facebook">Facebook URL</label>
                  <input type="url" id="contact-facebook" name="facebook" placeholder="https://facebook.com/pawanafurniture">
                </div>
              </div>
            </div>

            <div class="settings-section">
              <h3>Contact Form Section</h3>
              <div class="form-group">
                <label for="contact-form-title">Form Title</label>
                <input type="text" id="contact-form-title" name="formTitle" placeholder="Send Us a Message">
              </div>
              <div class="form-group">
                <label for="contact-form-description">Form Description</label>
                <textarea id="contact-form-description" name="formDescription" rows="2" placeholder="Fill out the form below..."></textarea>
              </div>
            </div>

            <div class="settings-section">
              <h3>FAQ Section</h3>
              <p class="section-hint">Add frequently asked questions and answers.</p>
              <div id="contact-faq-container"></div>
              <button type="button" class="btn-add-row" id="add-faq-btn">+ Add Question</button>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn-save">Save Contact Settings</button>
            </div>
          </form>
        </div>
      </div>

      <!-- About Settings Tab -->
      <div class="tab-content settings-tab-container" id="about-settings-tab">
        <div class="settings-sticky-header">
          <h2>About Page Settings</h2>
          <div class="settings-sticky-actions">
            <span class="unsaved-indicator" id="about-unsaved-indicator"></span>
            <button type="button" class="btn-cancel-settings" id="about-cancel-btn">Cancel</button>
            <button type="button" class="btn-save-settings" id="about-save-btn">Save Changes</button>
          </div>
        </div>

        <div class="settings-form-container">
          <form id="about-settings-form" class="settings-form">
            <div class="settings-section">
              <h3>Page Meta</h3>
              <div class="form-group">
                <label for="about-page-title">Page Title</label>
                <input type="text" id="about-page-title" name="pageTitle" placeholder="About Us">
              </div>
              <div class="form-group">
                <label for="about-page-description">Page Description</label>
                <textarea id="about-page-description" name="pageDescription" rows="2" placeholder="Page hero description..."></textarea>
              </div>
            </div>

            <div class="settings-section">
              <h3>Our Story Section</h3>

              <div class="form-row">
                <div class="form-group">
                  <label for="about-story-title">Title</label>
                  <input type="text" id="about-story-title" name="storyTitle" placeholder="Our Story">
                </div>
                <div class="form-group">
                  <label for="about-story-subtitle">Subtitle</label>
                  <input type="text" id="about-story-subtitle" name="storySubtitle" placeholder="Resilience, Artistry, and a Vision for Perfection.">
                </div>
              </div>

              <div class="form-group">
                <label for="about-story-content">Story Content</label>
                <textarea id="about-story-content" name="storyContent" rows="8" placeholder="Full story text..."></textarea>
              </div>

              <div class="form-group">
                <label>Story Image</label>
                <div class="image-upload-row" id="story-image-row">
                  <div class="image-preview-small" id="story-image-preview"></div>
                  <button type="button" class="btn-upload" data-section="story">Upload Image</button>
                </div>
              </div>
            </div>

            <div class="settings-section">
              <h3>Our Values</h3>
              <p class="section-hint">Define the 4 value cards displayed on the about page.</p>
              <div id="values-container"></div>
              <button type="button" class="btn-add-row" id="add-value-btn">+ Add Value</button>
            </div>

            <div class="settings-section">
              <h3>Our Process</h3>

              <div class="form-group">
                <label for="about-process-intro">Process Introduction</label>
                <textarea id="about-process-intro" name="processIntro" rows="3" placeholder="Introduction text for the process section..."></textarea>
              </div>

              <p class="section-hint">Define each step in the process (with images).</p>
              <div id="process-steps-container"></div>
              <button type="button" class="btn-add-row" id="add-process-step-btn">+ Add Step</button>
            </div>

            <div class="settings-section">
              <h3>Heritage Section</h3>

              <div class="form-group">
                <label for="about-heritage-title">Title</label>
                <input type="text" id="about-heritage-title" name="heritageTitle" placeholder="100% Crafted in India">
              </div>

              <div class="form-group">
                <label for="about-heritage-description">Description</label>
                <textarea id="about-heritage-description" name="heritageDescription" rows="3" placeholder="Heritage section description..."></textarea>
              </div>
            </div>

            <div class="settings-section">
              <h3>CTA Section</h3>
              <div class="form-group">
                <label for="about-cta-title">CTA Title</label>
                <input type="text" id="about-cta-title" name="ctaTitle" placeholder="Start Your Custom Project">
              </div>
              <div class="form-group">
                <label for="about-cta-description">CTA Description</label>
                <textarea id="about-cta-description" name="ctaDescription" rows="2" placeholder="Let our master craftsmen..."></textarea>
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn-save">Save About Settings</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Services Settings Tab -->
      <div class="tab-content settings-tab-container" id="services-settings-tab">
        <div class="settings-sticky-header">
          <h2>Services Page Settings</h2>
          <div class="settings-sticky-actions">
            <span class="unsaved-indicator" id="services-unsaved-indicator"></span>
            <button type="button" class="btn-cancel-settings" id="services-cancel-btn">Cancel</button>
            <button type="button" class="btn-save-settings" id="services-save-btn">Save Changes</button>
          </div>
        </div>

        <div class="settings-form-container">
          <form id="services-settings-form" class="settings-form">
            <div class="settings-section">
              <h3>Page Meta</h3>
              <div class="form-group">
                <label for="services-page-title">Page Title</label>
                <input type="text" id="services-page-title" name="pageTitle" placeholder="Our Services">
              </div>
              <div class="form-group">
                <label for="services-page-description">Page Description</label>
                <textarea id="services-page-description" name="pageDescription" rows="2" placeholder="Page hero description..."></textarea>
              </div>
            </div>

            <div class="settings-section">
              <h3>Introduction Section</h3>

              <div class="form-group">
                <label for="services-intro-title">Title</label>
                <input type="text" id="services-intro-title" name="introTitle" placeholder="More Than Just Furniture">
              </div>

              <div class="form-group">
                <label for="services-intro-description">Description</label>
                <textarea id="services-intro-description" name="introDescription" rows="3" placeholder="Introduction text..."></textarea>
              </div>
            </div>

            <div class="settings-section">
              <h3>Services</h3>
              <p class="section-hint">Define each service offered (with images and feature lists).</p>
              <div id="services-items-container"></div>
              <button type="button" class="btn-add-row" id="add-service-btn">+ Add Service</button>
            </div>

            <div class="settings-section">
              <h3>CTA Section</h3>
              <div class="form-group">
                <label for="services-cta-title">CTA Title</label>
                <input type="text" id="services-cta-title" name="ctaTitle" placeholder="Need a Custom Solution?">
              </div>
              <div class="form-group">
                <label for="services-cta-description">CTA Description</label>
                <textarea id="services-cta-description" name="ctaDescription" rows="2" placeholder="Let's discuss how we can help..."></textarea>
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn-save">Save Services Settings</button>
            </div>
          </form>
        </div>
      </div>
    </main>
  </div>

  <!-- Add/Edit Set Modal -->
  <div class="modal" id="set-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="set-modal-title">Add New Set</h3>
        <button class="modal-close">&times;</button>
      </div>
      <form id="set-form">
        <input type="hidden" id="set-id" name="id">
        <input type="hidden" id="set-room" name="room">
        <input type="hidden" id="set-style" name="style">

        <div class="form-group">
          <label for="set-name">Name *</label>
          <input type="text" id="set-name" name="name" required maxlength="100">
        </div>

        <div class="form-group">
          <label for="set-description">Description</label>
          <textarea id="set-description" name="description" rows="3"></textarea>
        </div>

        <div class="form-group">
          <label for="set-image">Image (4:3 ratio, max 1MB)</label>
          <input type="file" id="set-image" name="image" accept="image/*">
          <div class="image-preview" id="set-image-preview"></div>
        </div>

        <div class="form-info">
          <p><strong>Room:</strong> <span id="set-room-display"></span></p>
          <p><strong>Style:</strong> <span id="set-style-display"></span></p>
        </div>

        <div class="form-group">
          <label for="set-code">Code (leave blank to auto-generate)</label>
          <div class="code-input-group">
            <span class="code-prefix" id="set-code-prefix">LR-</span>
            <input type="text" id="set-code" name="code" placeholder="01" maxlength="2" pattern="[0-9]{2}">
          </div>
          <small class="form-hint">Format: 2 digits (e.g., 01, 15, 99)</small>
        </div>

        <div class="form-actions">
          <button type="button" class="btn-cancel">Cancel</button>
          <button type="submit" class="btn-save">Save Set</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Add/Edit Item Modal -->
  <div class="modal" id="item-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="item-modal-title">Add New Item</h3>
        <button class="modal-close">&times;</button>
      </div>
      <form id="item-form">
        <input type="hidden" id="item-id" name="id">
        <input type="hidden" id="item-room" name="room">
        <input type="hidden" id="item-style" name="style">

        <div class="form-group">
          <label for="item-name">Name *</label>
          <input type="text" id="item-name" name="name" required maxlength="100">
        </div>

        <div class="form-group">
          <label for="item-type-select">Furniture Type *</label>
          <select id="item-type-select" name="type-select">
            <option value="">Select type or add new...</option>
          </select>
        </div>

        <div class="form-group" id="new-type-group" style="display: none;">
          <label for="item-type-new">New Type Name *</label>
          <input type="text" id="item-type-new" name="type-new" placeholder="e.g., Armchair, Ottoman">
        </div>

        <input type="hidden" id="item-type" name="type">

        <div class="form-group">
          <label for="item-price">Price (₹)</label>
          <input type="number" id="item-price" name="price" min="0">
        </div>

        <div class="form-group">
          <label for="item-description">Description</label>
          <textarea id="item-description" name="description" rows="3"></textarea>
        </div>

        <div class="form-group">
          <label for="item-image">Image (1:1 ratio, max 1MB)</label>
          <input type="file" id="item-image" name="image" accept="image/*">
          <div class="image-preview" id="item-image-preview"></div>
        </div>

        <div class="form-info">
          <p><strong>Room:</strong> <span id="item-room-display"></span></p>
          <p><strong>Style:</strong> <span id="item-style-display"></span></p>
        </div>

        <div class="form-group">
          <label for="item-code">Code (leave blank to auto-generate)</label>
          <div class="code-input-group">
            <span class="code-prefix" id="item-code-prefix">LR-</span>
            <input type="text" id="item-code" name="code" placeholder="001" maxlength="3" pattern="[0-9]{3}">
          </div>
          <small class="form-hint">Format: 3 digits (e.g., 001, 015, 099)</small>
        </div>

        <div class="form-actions">
          <button type="button" class="btn-cancel">Cancel</button>
          <button type="submit" class="btn-save">Save Item</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Image Upload Modal -->
  <div class="modal" id="image-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Update Image</h3>
        <button class="modal-close">&times;</button>
      </div>
      <form id="image-form" enctype="multipart/form-data">
        <input type="hidden" id="image-collection" name="collection">
        <input type="hidden" id="image-doc-id" name="documentId">
        <input type="hidden" id="image-index" name="imageIndex" value="-1">

        <div class="form-group">
          <label for="image-file">Select Image (JPG, PNG, WebP - Max 5MB)</label>
          <input type="file" id="image-file" name="image" accept=".jpg,.jpeg,.png,.webp" required>
        </div>

        <div class="image-preview" id="image-preview"></div>

        <div class="form-actions">
          <button type="button" class="btn-cancel">Cancel</button>
          <button type="submit" class="btn-save">Upload Image</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div class="modal" id="delete-modal">
    <div class="modal-content modal-small">
      <div class="modal-header">
        <h3>Confirm Delete</h3>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete this item?</p>
        <p class="delete-warning">This action cannot be undone.</p>
      </div>
      <div class="form-actions">
        <button type="button" class="btn-cancel">Cancel</button>
        <button type="button" class="btn-delete" id="confirm-delete-btn">Delete</button>
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div class="toast" id="toast"></div>

  <script>
    const ADMIN_ROUTE = '<%= adminRoute %>';
  </script>
  <script src="/js/admin.js"></script>
</body>
</html>
